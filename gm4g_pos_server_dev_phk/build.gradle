/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
	id 'java'
	id 'maven'
	id 'idea'
	id 'eclipse'
	id 'application'
	id 'com.github.johnrengelman.shadow' version '4.0.4'
}

repositories {
	mavenCentral()
	maven { url 'https://oss.sonatype.org/content/repositories/ksoap2-android-releases/' }
	flatDir {
		dirs 'lib'
	}
}

dependencies {
	implementation 'org.json:json:20090211'
	implementation 'xom:xom:1.2.5'
	implementation 'joda-time:joda-time:2.3'
	implementation 'commons-lang:commons-lang:2.6'
	implementation 'org.bouncycastle:bcprov-jdk15on:1.54'
	implementation 'com.thoughtworks.xstream:xstream:1.4.7'
	implementation 'org.scream3r:jssc:2.8.0'
	implementation 'com.rabbitmq:amqp-client:5.6.0'
	implementation 'com.google.code.ksoap2-android:ksoap2-android:3.6.3'
	implementation (name:'WinRun4J', ext:'jar')
	implementation group: 'org.codehaus.jackson', name: 'jackson-core-asl', version: '1.9.13'
	implementation group: 'org.codehaus.jackson', name: 'jackson-mapper-asl', version: '1.9.13'
	implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
	implementation group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.25'
}

shadowJar {
	baseName = 'hero_pos_launcher'
	classifier = null
	version = null
	zip64 = true
	dependencies {
		include(dependency('org.json:json:20090211'))
		include(dependency('xom:xom:1.2.5'))
		include(dependency('joda-time:joda-time:2.3'))
		include(dependency('commons-lang:commons-lang:2.6'))
		include(dependency('org.bouncycastle:bcprov-jdk15on:1.54'))
		include(dependency('com.thoughtworks.xstream:xstream:1.4.7'))
		include(dependency('org.scream3r:jssc:2.8.0'))
		include(dependency('com.rabbitmq:amqp-client:5.6.0'))
		include(dependency('com.google.code.ksoap2-android:ksoap2-android:3.6.3'))
		include(dependency(name:'WinRun4J', ext:'jar'))
		include(dependency(group: 'org.codehaus.jackson', name: 'jackson-core-asl', version: '1.9.13'))
		include(dependency(group: 'org.codehaus.jackson', name: 'jackson-mapper-asl', version: '1.9.13'))
		include(dependency(group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'))
		include(dependency(group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.25'))
	}
}

sourceSets {
	main.java.srcDirs = ['src/']
	main.resources.srcDirs = ['resources/']
	test.java.srcDirs = ['testSrc/']
	test.resources.srcDirs = ['testResources/']
}

application {
	mainClassName = 'launcher.Main'
}

tasks.withType(JavaCompile) {
	options.incremental = true // one flag, and things will get MUCH faster
	options.fork = true
}

group = 'launcher'
version = '1.0'
sourceCompatibility = '1.8'